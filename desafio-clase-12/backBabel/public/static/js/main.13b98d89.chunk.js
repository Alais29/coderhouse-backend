(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{16:function(e,t,n){e.exports={"chat-channel":"styles_chat-channel__3kc8J","chat-channel__messages":"styles_chat-channel__messages__Naigt","chat-channel__message":"styles_chat-channel__message__3S3Et","chat-channel__message-email":"styles_chat-channel__message-email__3KCAX","chat-channel__message-text":"styles_chat-channel__message-text__2sWmS","chat-channel__message-date":"styles_chat-channel__message-date__3Ldd4","chat-channel__form":"styles_chat-channel__form__128TP"}},52:function(e,t,n){e.exports={"product-img":"styles_product-img__21jtm"}},93:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(15),r=n.n(a),o=n(13),l=n(48),i=n.n(l)()("/"),j=n(97),h=n(98),u=n(49),b=n(99),m=n(6),d=n(2),x=n(100),O=n(95);function g(e){if(e){switch(typeof e){case"string":return""===e||"null"===e||"undefined"===e;case"number":return!1;case"object":return"{}"===JSON.stringify(e)||"[]"===JSON.stringify(e)}return!0}return!0}var _=n(0),p=function(e){e.productos;var t=e.setProductos,n=Object(c.useState)({show:!1,text:""}),s=Object(o.a)(n,2),a=s[0],r=s[1],l=Object(c.useState)({title:"",price:"",thumbnail:""}),j=Object(o.a)(l,2),h=j[0],u=j[1],p=h.title,f=h.price,v=h.thumbnail,w=function(e){u(Object(d.a)(Object(d.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:"text-center",children:"Agrega un producto"}),Object(_.jsxs)(x.a,{onSubmit:function(e){e.preventDefault(),g(p)||g(f)||g(v)?r({show:!0,text:"Todos los campos son requeridos"}):(r({show:!1,text:""}),i.emit("new product",h),i.on("save product success",(function(){u({title:"",price:"",thumbnail:""})})),i.on("productos",(function(e){t(e)})),i.on("productos error",(function(e){r({show:!0,text:e.message})})),i.on("save producto error",(function(e){r({show:!0,text:e.message})})))},children:[Object(_.jsxs)(x.a.Group,{className:"mb-3",controlId:"title",children:[Object(_.jsx)(x.a.Label,{children:"Nombre"}),Object(_.jsx)(x.a.Control,{type:"text",value:p,name:"title",onChange:w})]}),Object(_.jsxs)(x.a.Group,{className:"mb-3",controlId:"price",children:[Object(_.jsx)(x.a.Label,{children:"Precio"}),Object(_.jsx)(x.a.Control,{type:"text",value:f,name:"price",onChange:w})]}),Object(_.jsxs)(x.a.Group,{className:"mb-3",controlId:"thumbnail",children:[Object(_.jsx)(x.a.Label,{children:"URL de imagen"}),Object(_.jsx)(x.a.Control,{type:"url",value:v,name:"thumbnail",onChange:w})]}),a.show&&Object(_.jsx)(b.a,{variant:"danger",children:a.text}),Object(_.jsx)(O.a,{type:"submit",className:"mb-2",children:"Guardar"})]})]})},f=n(96),v=n(14),w=n.n(v),y=n(52),N=n.n(y),C=function(e){var t=e.productos;return Object(_.jsxs)(f.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Nombre"}),Object(_.jsx)("th",{children:"Precio"}),Object(_.jsx)("th",{children:"Imagen"})]})}),Object(_.jsx)("tbody",{children:t.map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.title}),Object(_.jsx)("td",{children:e.price}),Object(_.jsx)("td",{children:Object(_.jsx)("img",{className:w()(N.a["product-img"]),src:e.thumbnail,alt:e.title})})]},e.id)}))})]})},S=n(16),I=n.n(S),L=function(){var e=Object(c.useState)({email:"",text:""}),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),r=Object(o.a)(a,2),l=r[0],j=r[1],h=Object(c.useState)({show:!1,text:""}),u=Object(o.a)(h,2),p=u[0],f=u[1],v=n.email,y=n.text,N=Object(c.useRef)(null);Object(c.useEffect)((function(){i.on("messages",(function(e){j(e)}))}),[]);var C=function(e){s(Object(d.a)(Object(d.a)({},n),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(_.jsxs)("div",{className:w()(I.a["chat-channel"]),children:[Object(_.jsx)("h1",{children:"Centro de Mensajes"}),Object(_.jsx)("div",{className:w()(I.a["chat-channel__messages"]),children:l.map((function(e,t){return Object(_.jsxs)("div",{className:w()(I.a["chat-channel__message"]),children:[Object(_.jsxs)("p",{children:[Object(_.jsxs)("span",{className:w()(I.a["chat-channel__message-email"]),children:[e.email,": "]}),Object(_.jsx)("span",{className:w()(I.a["chat-channel__message-text"]),children:e.text})]}),Object(_.jsx)("small",{className:w()(I.a["chat-channel__message-date"]),children:e.date})]},t)}))}),Object(_.jsx)(x.a,{onSubmit:function(e){e.preventDefault(),g(v)||g(y)?f({show:!0,text:"Ambos campos son obligatorios"}):(f({show:!1,text:""}),i.emit("new message",n),i.on("save message success",(function(){s(Object(d.a)(Object(d.a)({},n),{},{text:""}))})),i.on("messages",(function(e){j(e),N.current&&(N.current.disabled=!0)})),i.on("messages error",(function(e){f({show:!0,text:e.message})})),i.on("save message error",(function(e){f({show:!0,text:e.message})})))},children:Object(_.jsxs)("div",{className:w()(I.a["chat-channel__form"]),children:[Object(_.jsx)(x.a.Control,{value:v,onChange:C,name:"email",type:"text",placeholder:"Email",ref:N}),Object(_.jsx)(x.a.Control,{value:y,onChange:C,name:"text",type:"text",placeholder:"Ingresa un mensaje"}),Object(_.jsx)(O.a,{className:"w-100",variant:"primary",type:"submit",children:"Enviar"})]})}),p.show&&Object(_.jsx)(b.a,{variant:"warning",className:"mt-3",children:p.text})]})},P=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)({show:!1,text:""}),r=Object(o.a)(a,2),l=r[0],m=r[1];return Object(c.useEffect)((function(){return i.on("productos",(function(e){s(e),m({show:!1,text:""})})),i.on("productos error",(function(e){m({show:!0,text:e.message})})),function(){i.disconnect()}}),[]),Object(_.jsx)(j.a,{children:Object(_.jsxs)(h.a,{children:[Object(_.jsxs)(u.a,{lg:"8",sm:"12",children:[Object(_.jsx)(p,{productos:n,setProductos:s}),0!==n.length?Object(_.jsx)(C,{productos:n}):l.show&&Object(_.jsx)(b.a,{variant:"danger",children:l.text})]}),Object(_.jsx)(u.a,{lg:"4",sm:"12",children:Object(_.jsx)(L,{})})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,101)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(92);r.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(P,{})}),document.getElementById("root")),E()}},[[93,1,2]]]);
//# sourceMappingURL=main.13b98d89.chunk.js.map